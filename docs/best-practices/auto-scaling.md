---
title: "Anleitungen für die automatische Skalierung"
description: "Leitfaden zur automatischen Skalierung, um die von einer Anwendung benötigten Ressourcen dynamisch zuzuweisen."
author: dragon119
ms.date: 05/17/2017
pnp.series.title: Best Practices
ms.openlocfilehash: a8489aaabab2b8523fbc9f026f4f435bb6d1ad29
ms.sourcegitcommit: 3d9ee03e2dda23753661a80c7106d1789f5223bb
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/23/2018
---
# <a name="autoscaling"></a><span data-ttu-id="e19ce-103">Automatische Skalierung</span><span class="sxs-lookup"><span data-stu-id="e19ce-103">Autoscaling</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="e19ce-104">Die automatische Skalierung ist der Prozess zum dynamischen Zuweisen von Ressourcen gemäß den jeweiligen Leistungsanforderungen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-104">Autoscaling is the process of dynamically allocating resources to match performance requirements.</span></span> <span data-ttu-id="e19ce-105">Wenn das Arbeitsvolumen zunimmt, sind für eine Anwendung ggf. zusätzliche Ressourcen erforderlich, um die gewünschten Leistungsebenen aufrechtzuerhalten und die Vereinbarungen zum Servicelevel (SLAs) einzuhalten.</span><span class="sxs-lookup"><span data-stu-id="e19ce-105">As the volume of work grows, an application may need additional resources to maintain the desired performance levels and satisfy service-level agreements (SLAs).</span></span> <span data-ttu-id="e19ce-106">Wenn die Nachfrage abnimmt und die zusätzlichen Ressourcen nicht mehr benötigt werden, kann die Zuordnung aufgehoben werden, um die Kosten zu senken.</span><span class="sxs-lookup"><span data-stu-id="e19ce-106">As demand slackens and the additional resources are no longer needed, they can be de-allocated to minimize costs.</span></span>

<span data-ttu-id="e19ce-107">Die automatische Skalierung nutzt die Elastizität von Umgebungen, die in der Cloud gehostet werden, und reduziert gleichzeitig den Verwaltungsaufwand.</span><span class="sxs-lookup"><span data-stu-id="e19ce-107">Autoscaling takes advantage of the elasticity of cloud-hosted environments while easing management overhead.</span></span> <span data-ttu-id="e19ce-108">Der Verwaltungsaufwand wird reduziert, da die Leistung des Systems nicht ständig von einem Mitarbeiter überwacht werden muss, der Entscheidungen über das Hinzufügen oder Entfernen von Ressourcen trifft.</span><span class="sxs-lookup"><span data-stu-id="e19ce-108">It reduces the need for an operator to continually monitor the performance of a system and make decisions about adding or removing resources.</span></span>

<span data-ttu-id="e19ce-109">Es gibt im Wesentlichen zwei Möglichkeiten, eine Anwendung zu skalieren:</span><span class="sxs-lookup"><span data-stu-id="e19ce-109">There are two main ways that an application can scale:</span></span> 

* <span data-ttu-id="e19ce-110">Bei der **vertikalen Skalierung** (auch als zentrales Hoch- und Herunterskalieren bezeichnet) wird die Kapazität einer Ressource geändert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-110">**Vertical scaling**, also called scaling up and down, means changing the capacity of a resource.</span></span> <span data-ttu-id="e19ce-111">Beispielsweise kann eine Anwendung auf eine höhere VM-Größe skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-111">For example, you could move an application to a larger VM size.</span></span> <span data-ttu-id="e19ce-112">Für die vertikale Skalierung ist es häufig erforderlich, dass das System während der erneuten Bereitstellung vorübergehend nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-112">Vertical scaling often requires making the system temporarily unavailable while it is being redeployed.</span></span> <span data-ttu-id="e19ce-113">Daher ist es weniger häufig der Fall, dass die vertikale Skalierung automatisiert wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-113">Therefore, it's less common to automate vertical scaling.</span></span>
* <span data-ttu-id="e19ce-114">Bei der **horizontalen Skalierung** (auch als horizontales Hoch- und Herunterskalieren bezeichnet) werden Instanzen einer Ressource hinzugefügt oder daraus entfernt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-114">**Horizontal scaling**, also called scaling out and in, means adding or removing instances of a resource.</span></span> <span data-ttu-id="e19ce-115">Die Anwendung wird weiter ohne Unterbrechung ausgeführt, wenn neue Ressourcen bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-115">The application continues running without interruption as new resources are provisioned.</span></span> <span data-ttu-id="e19ce-116">Nach Abschluss des Bereitstellungsprozesses wird die Lösung auf diesen zusätzlichen Ressourcen bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-116">When the provisioning process is complete, the solution is deployed on these additional resources.</span></span> <span data-ttu-id="e19ce-117">Wenn die Nachfrage nachlässt, können die zusätzlichen Ressourcen sauber heruntergefahren und die Zuordnungen dafür aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-117">If demand drops, the additional resources can be shut down cleanly and deallocated.</span></span> 

<span data-ttu-id="e19ce-118">Viele cloudbasierte Systeme, einschließlich Microsoft Azure, unterstützen die automatische horizontale Skalierung.</span><span class="sxs-lookup"><span data-stu-id="e19ce-118">Many cloud-based systems, including Microsoft Azure, support automatic horizontal scaling.</span></span> <span data-ttu-id="e19ce-119">Im restlichen Teil dieses Artikels geht es um die horizontale Skalierung.</span><span class="sxs-lookup"><span data-stu-id="e19ce-119">The rest of this article focuses on horizontal scaling.</span></span>

> [!NOTE]
> <span data-ttu-id="e19ce-120">Die automatische Skalierung betrifft hauptsächlich Computeressourcen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-120">Autoscaling mostly applies to compute resources.</span></span> <span data-ttu-id="e19ce-121">Es ist zwar möglich, eine Datenbank oder Nachrichtenwarteschlange horizontal zu skalieren, aber dies beinhaltet normalerweise auch eine [Datenpartitionierung][data-partitioning], die meist nicht automatisiert ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-121">While it's possible to horizontally scale a database or message queue, this usually involves [data partitioning][data-partitioning], which is generally not automated.</span></span>
>

## <a name="overview"></a><span data-ttu-id="e19ce-122">Übersicht</span><span class="sxs-lookup"><span data-stu-id="e19ce-122">Overview</span></span>

<span data-ttu-id="e19ce-123">Eine Strategie für die automatische Skalierung umfasst in der Regel die folgenden Elemente:</span><span class="sxs-lookup"><span data-stu-id="e19ce-123">An autoscaling strategy typically involves the following pieces:</span></span>

* <span data-ttu-id="e19ce-124">Instrumentierung und Überwachungssysteme auf Anwendungs-, Dienst- und Infrastrukturebene.</span><span class="sxs-lookup"><span data-stu-id="e19ce-124">Instrumentation and monitoring systems at the application, service, and infrastructure levels.</span></span> <span data-ttu-id="e19ce-125">Diese Systeme erfassen wichtige Metriken wie Antwortzeiten, Warteschlangenlängen, CPU-Auslastung und Speicherauslastung.</span><span class="sxs-lookup"><span data-stu-id="e19ce-125">These systems capture key metrics, such as response times, queue lengths, CPU utilization, and memory usage.</span></span>
* <span data-ttu-id="e19ce-126">Logik für die Entscheidungsfindung, mit der diese Metriken anhand von vordefinierten Schwellenwerten oder Zeitplänen ausgewertet werden, um die Skalierungsentscheidung treffen zu können.</span><span class="sxs-lookup"><span data-stu-id="e19ce-126">Decision-making logic that evaluates these metrics against predefined thresholds or schedules, and decides whether to scale.</span></span>
* <span data-ttu-id="e19ce-127">Komponenten, mit denen das System skaliert wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-127">Components that scale the system.</span></span>
* <span data-ttu-id="e19ce-128">Testen, Überwachen und Optimieren der Strategie für die automatische Skalierung, um sicherzustellen, dass sie wie erwartet funktioniert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-128">Testing, monitoring, and tuning of the autoscaling strategy to ensure that it functions as expected.</span></span>

<span data-ttu-id="e19ce-129">In Azure werden integrierte Mechanismen für die automatische Skalierung bereitgestellt, um häufig auftretende Szenarien zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-129">Azure provides built-in autoscaling mechanisms that address common scenarios.</span></span> <span data-ttu-id="e19ce-130">Wenn ein bestimmter Dienst oder eine Technologie nicht über integrierte Funktionen für die automatische Skalierung verfügt oder wenn bei Ihnen Anforderungen in Bezug auf die automatische Skalierung bestehen, die damit nicht erfüllt werden können, können Sie eine benutzerdefinierte Implementierung in Erwägung ziehen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-130">If a particular service or technology does not have built-in autoscaling functionality, or if you have specific autoscaling requirements beyond its capabilities, you might consider a custom implementation.</span></span> <span data-ttu-id="e19ce-131">Bei einer benutzerdefinierten Implementierung werden betriebs- und systembezogene Metriken gesammelt und analysiert und die Ressourcen dann entsprechend skaliert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-131">A custom implementation would collect operational and system metrics, analyze the metrics, and then scale resources accordingly.</span></span>

## <a name="configure-autoscaling-for-an-azure-solution"></a><span data-ttu-id="e19ce-132">Konfigurieren der automatischen Skalierung für eine Azure-Lösung</span><span class="sxs-lookup"><span data-stu-id="e19ce-132">Configure autoscaling for an Azure solution</span></span>

<span data-ttu-id="e19ce-133">Azure ermöglicht die integrierte automatische Skalierung für die meisten Compute-Optionen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-133">Azure provides built-in autoscaling for most compute options.</span></span>

* <span data-ttu-id="e19ce-134">**Virtuelle Computer** unterstützen die automatische Skalierung über die Nutzung von [VM Scale Sets][vm-scale-sets], mit denen eine Gruppe von virtuellen Azure-Computern verwaltet werden kann.</span><span class="sxs-lookup"><span data-stu-id="e19ce-134">**Virtual Machines** support autoscaling through the use of [VM Scale Sets][vm-scale-sets], which are a way to manage a set of Azure virtual machines as a group.</span></span> <span data-ttu-id="e19ce-135">Informationen hierzu finden Sie unter [Verwenden von automatischer Skalierung und VM-Skalierungsgruppen][vm-scale-sets-autoscale].</span><span class="sxs-lookup"><span data-stu-id="e19ce-135">See [How to use automatic scaling and Virtual Machine Scale Sets][vm-scale-sets-autoscale].</span></span>

* <span data-ttu-id="e19ce-136">**Service Fabric** unterstützt ebenfalls die automatische Skalierung über VM Scale Sets.</span><span class="sxs-lookup"><span data-stu-id="e19ce-136">**Service Fabric** also supports auto-scaling through VM Scale Sets.</span></span> <span data-ttu-id="e19ce-137">Jeder Knotentyp in einem Service Fabric-Cluster wird als separate VM-Skalierungsgruppe festgelegt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-137">Every node type in a Service Fabric cluster is set up as a separate VM scale set.</span></span> <span data-ttu-id="e19ce-138">Auf diese Weise kann jeder Knotentyp einzeln horizontal herunter- oder hochskaliert werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-138">That way, each node type can be scaled in or out independently.</span></span> <span data-ttu-id="e19ce-139">Informationen hierzu finden Sie unter [Zentrales Hoch- oder Herunterskalieren eines Service Fabric-Clusters mithilfe von Regeln für die automatische Skalierung][service-fabric-autoscale].</span><span class="sxs-lookup"><span data-stu-id="e19ce-139">See [Scale a Service Fabric cluster in or out using auto-scale rules][service-fabric-autoscale].</span></span>

* <span data-ttu-id="e19ce-140">In **Azure App Service** ist die automatische Skalierung integriert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-140">**Azure App Service** has built-in autoscaling.</span></span> <span data-ttu-id="e19ce-141">Einstellungen für die automatische Skalierung gelten für alle Apps in einer App Service-Instanz.</span><span class="sxs-lookup"><span data-stu-id="e19ce-141">Autoscale settings apply to all of the apps within an App Service.</span></span> <span data-ttu-id="e19ce-142">Informationen hierzu finden Sie unter [Manuelles oder automatisches Skalieren der Instanzenzahl][app-service-autoscale].</span><span class="sxs-lookup"><span data-stu-id="e19ce-142">See [Scale instance count manually or automatically][app-service-autoscale].</span></span>

* <span data-ttu-id="e19ce-143">**Azure Cloud Services** verfügen über eine integrierte automatische Skalierung auf Rollenebene.</span><span class="sxs-lookup"><span data-stu-id="e19ce-143">**Azure Cloud Services** has built-in autoscaling at the role level.</span></span> <span data-ttu-id="e19ce-144">Informationen hierzu finden Sie unter [Konfigurieren der automatischen Skalierung für einen Clouddienst im Portal][cloud-services-autoscale].</span><span class="sxs-lookup"><span data-stu-id="e19ce-144">See [How to configure auto scaling for a Cloud Service in the portal][cloud-services-autoscale].</span></span>

<span data-ttu-id="e19ce-145">Für diese Compute-Optionen wird jeweils die [automatische Azure Monitor-Skalierung][monitoring] genutzt, um einen allgemeinen Satz mit Funktionen für die automatische Skalierung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-145">These compute options all use [Azure Monitor autoscale][monitoring] to provide a common set of autoscaling functionality.</span></span>

* <span data-ttu-id="e19ce-146">**Azure Functions** unterscheidet sich von den vorherigen Compute-Optionen, da Sie hierfür keine Regeln für die automatische Skalierung konfigurieren müssen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-146">**Azure Functions** differs from the previous compute options, because you don't need to configure any autoscale rules.</span></span> <span data-ttu-id="e19ce-147">Stattdessen ordnet Azure Functions automatisch Rechenleistung zu, wenn Ihr Code ausgeführt wird, und führt das horizontale Hochskalieren bedarfsabhängig durch, um die Last zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-147">Instead, Azure Functions automatically allocates compute power when your code is running, scaling out as necessary to handle load.</span></span> <span data-ttu-id="e19ce-148">Weitere Informationen finden Sie unter [Auswählen des richtigen Hostingplans für Azure Functions][functions-scale].</span><span class="sxs-lookup"><span data-stu-id="e19ce-148">For more information, see [Choose the correct hosting plan for Azure Functions][functions-scale].</span></span>

<span data-ttu-id="e19ce-149">In einigen Fällen kann eine benutzerdefinierte Lösung für die automatische Skalierung nützlich sein.</span><span class="sxs-lookup"><span data-stu-id="e19ce-149">Finally, a custom autoscaling solution can sometimes be useful.</span></span> <span data-ttu-id="e19ce-150">Sie können beispielsweise die Azure-Diagnose und anwendungsbasierte Metriken zusammen mit benutzerdefiniertem Code nutzen, um die Anwendungsmetriken zu überwachen und zu exportieren.</span><span class="sxs-lookup"><span data-stu-id="e19ce-150">For example, you could use Azure diagnostics and application-based metrics, along with custom code to monitor and export the application metrics.</span></span> <span data-ttu-id="e19ce-151">Anschließend können Sie benutzerdefinierte Regeln basierend auf diesen Metriken definieren und Resource Manager-REST-APIs verwenden, um die automatische Skalierung auszulösen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-151">Then you could define custom rules based on these metrics, and use Resource Manager REST APIs to trigger autoscaling.</span></span> <span data-ttu-id="e19ce-152">Eine benutzerdefinierte Lösung ist aber nicht einfach zu implementieren und sollte nur in Betracht gezogen werden, wenn keine der vorherigen Methoden Ihre Anforderungen erfüllen kann.</span><span class="sxs-lookup"><span data-stu-id="e19ce-152">However, a custom solution is not simple to implement, and should be considered only if none of the previous approaches can fulfill your requirements.</span></span>

<span data-ttu-id="e19ce-153">Verwenden Sie die integrierten Features für die automatische Skalierung der Plattform, wenn diese Ihre Anforderungen erfüllen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-153">Use the built-in autoscaling features of the platform, if they meet your requirements.</span></span> <span data-ttu-id="e19ce-154">Überlegen Sie sich andernfalls, ob Sie wirklich komplexere Skalierungsfunktionen benötigen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-154">If not, carefully consider whether you really need more complex scaling features.</span></span> <span data-ttu-id="e19ce-155">Beispiele für zusätzliche Anforderungen sind eine präzisere Steuerung, verschiedene Methoden zum Erkennen von auslösenden Ereignissen für die Skalierung, die abonnementübergreifende Skalierung und das Skalieren anderer Ressourcentypen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-155">Examples of additional requirements may include more granularity of control, different ways to detect trigger events for scaling, scaling across subscriptions, and scaling other types of resources.</span></span>

## <a name="use-azure-monitor-autoscale"></a><span data-ttu-id="e19ce-156">Verwenden der automatischen Azure Monitor-Skalierung</span><span class="sxs-lookup"><span data-stu-id="e19ce-156">Use Azure Monitor autoscale</span></span>

<span data-ttu-id="e19ce-157">Bei der [automatischen Azure Monitor-Skalierung][monitoring] wird eine allgemeine Gruppe von Funktionen zur automatischen Skalierung von VM Scale Sets, Azure App Service und Azure Cloud Services bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-157">[Azure Monitor autoscale][monitoring] provide a common set of autoscaling functionality for VM Scale Sets, Azure App Service, and Azure Cloud Service.</span></span> <span data-ttu-id="e19ce-158">Die Skalierung kann nach einem Zeitplan durchgeführt werden oder auf einer Laufzeitmetrik basieren, z.B. CPU oder Speicherauslastung.</span><span class="sxs-lookup"><span data-stu-id="e19ce-158">Scaling can be performed on a schedule, or based on a runtime metric, such as CPU or memory usage.</span></span> <span data-ttu-id="e19ce-159">Beispiele:</span><span class="sxs-lookup"><span data-stu-id="e19ce-159">Examples:</span></span>

- <span data-ttu-id="e19ce-160">Horizontales Hochskalieren auf zehn Instanzen an Wochentagen, und horizontales Herunterskalieren auf vier Instanzen am Samstag und Sonntag.</span><span class="sxs-lookup"><span data-stu-id="e19ce-160">Scale out to 10 instances on weekdays, and scale in to 4 instances on Saturday and Sunday.</span></span> 
- <span data-ttu-id="e19ce-161">Horizontales Hochskalieren um eine Instanz, wenn die durchschnittliche CPU-Auslastung über 70% liegt, und horizontales Herunterskalieren um eine Instanz, wenn die CPU-Auslastung unter 50% fällt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-161">Scale out by one instance if average CPU usage is above 70%, and scale in by one instance if CPU usage falls below 50%.</span></span>
- <span data-ttu-id="e19ce-162">Horizontales Hochskalieren um eine Instanz, wenn die Anzahl von Nachrichten in einer Warteschlange einen bestimmten Schwellenwert überschreitet.</span><span class="sxs-lookup"><span data-stu-id="e19ce-162">Scale out by one instance if the number of messages in a queue exceeds a certain threshold.</span></span>

<span data-ttu-id="e19ce-163">Eine Liste mit integrierten Metriken finden Sie unter [Allgemeine Metriken für die automatische Skalierung in Azure Monitor][autoscale-metrics].</span><span class="sxs-lookup"><span data-stu-id="e19ce-163">For a list of built-in metrics, see [Azure Monitor autoscaling common metrics][autoscale-metrics].</span></span> <span data-ttu-id="e19ce-164">Sie können auch benutzerdefinierte Metriken implementieren, indem Sie Application Insights verwenden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-164">You can also implement custom metrics by  using Application Insights.</span></span> 

<span data-ttu-id="e19ce-165">Sie können die automatische Skalierung konfigurieren, indem Sie PowerShell, die Azure CLI, eine Azure Resource Manager-Vorlage oder das Azure-Portal verwenden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-165">You can configure autoscaling by using PowerShell, the Azure CLI, an Azure Resource Manager template, or the Azure portal.</span></span> <span data-ttu-id="e19ce-166">Verwenden Sie die [Azure Resource Manager-REST-API](https://msdn.microsoft.com//library/azure/dn790568.aspx), wenn Sie ausführlichere Steuerungsmöglichkeiten benötigen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-166">For more detailed control, use the [Azure Resource Manager REST API](https://msdn.microsoft.com//library/azure/dn790568.aspx).</span></span> <span data-ttu-id="e19ce-167">Außerdem stehen mit der [Azure Monitoring Services-Verwaltungsbibliothek](http://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) und der [Microsoft Insights-Bibliothek](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (in der Vorschau) SDKs zur Verfügung, mit denen Sie Metriken aus verschiedenen Ressourcen sammeln und unter Verwendung von REST-APIs eine automatische Skalierung durchführen können.</span><span class="sxs-lookup"><span data-stu-id="e19ce-167">The [Azure Monitoring Service Management Library](http://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) and the [Microsoft Insights Library](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (in preview) are SDKs that allow collecting metrics from different resources, and perform autoscaling by making use of the REST APIs.</span></span> <span data-ttu-id="e19ce-168">Für Ressourcen, die nicht durch Azure Resource Manager unterstützt werden, oder bei Verwendung von Azure Cloud Services kann die automatische Skalierung mit der Dienstverwaltungs-REST-API durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-168">For resources where Azure Resource Manager support isn't available, or if you are using Azure Cloud Services, the Service Management REST API can be used for autoscaling.</span></span> <span data-ttu-id="e19ce-169">Verwenden Sie in allen anderen Fällen Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e19ce-169">In all other cases, use Azure Resource Manager.</span></span>

<span data-ttu-id="e19ce-170">Beachten Sie bei der Verwendung der automatischen Azure-Skalierung Folgendes:</span><span class="sxs-lookup"><span data-stu-id="e19ce-170">Consider the following points when using Azure autoscale:</span></span>

* <span data-ttu-id="e19ce-171">Überlegen Sie, ob Sie die Auslastung der Anwendung gut genug vorhersagen können, um die geplante automatische Skalierung zu nutzen und dann Instanzen hinzuzufügen und zu entfernen, wenn prognostizierte Bedarfsspitzen abgedeckt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-171">Consider whether you can predict the load on the application well enough to use scheduled autoscaling, adding and removing instances to meet anticipated peaks in demand.</span></span> <span data-ttu-id="e19ce-172">Falls dies nicht möglich ist, können Sie die reaktive automatische Skalierung basierend auf Laufzeitmetriken verwenden, um unvorhersehbare Änderungen des Bedarfs zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-172">If this isn't possible, use reactive autoscaling based on runtime metrics, in order to handle unpredictable changes in demand.</span></span> <span data-ttu-id="e19ce-173">Üblicherweise können die beiden Herangehensweisen kombiniert werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-173">Typically, you can combine these approaches.</span></span> <span data-ttu-id="e19ce-174">Erstellen Sie beispielsweise eine Strategie, bei der Ressourcen basierend auf einem Zeitplan mit Zeiten hinzugefügt werden, in denen die Anwendung bekanntermaßen am stärksten ausgelastet ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-174">For example, create a strategy that adds resources based on a schedule of the times when you know the application is most busy.</span></span> <span data-ttu-id="e19ce-175">Hierdurch wird sichergestellt, dass Kapazität bei Bedarf zur Verfügung steht, ohne dass durch den Neustart von Instanzen Verzögerungen auftreten.</span><span class="sxs-lookup"><span data-stu-id="e19ce-175">This helps to ensure that capacity is available when required, without any delay from starting new instances.</span></span> <span data-ttu-id="e19ce-176">Definieren Sie für jede geplante Regel die Metriken, die das reaktive automatische Skalieren während des Zeitraums zulassen, um sicherzustellen, dass die Anwendung nachhaltige aber unvorhersehbare Bedarfsspitzen verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="e19ce-176">For each scheduled rule, define metrics that allow reactive autoscaling during that period to ensure that the application can handle sustained but unpredictable peaks in demand.</span></span>
* <span data-ttu-id="e19ce-177">Die Beziehung zwischen Metriken und Kapazitätsanforderungen ist häufig schwer zu verstehen, insbesondere dann, wenn eine Anwendung zum ersten Mal bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-177">It's often difficult to understand the relationship between metrics and capacity requirements, especially when an application is initially deployed.</span></span> <span data-ttu-id="e19ce-178">Stellen Sie zu Beginn etwas mehr Kapazität bereit, und überwachen und optimieren Sie dann die Regeln für die automatische Skalierung, um die Kapazität besser auf die tatsächliche Auslastung abzustimmen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-178">Provision a little extra capacity at the beginning, and then monitor and tune the autoscaling rules to bring the capacity closer to the actual load.</span></span>
* <span data-ttu-id="e19ce-179">Konfigurieren Sie die Regeln für die automatische Skalierung, und überwachen Sie anschließend die Leistung Ihrer Anwendung im Laufe der Zeit.</span><span class="sxs-lookup"><span data-stu-id="e19ce-179">Configure the autoscaling rules, and then monitor the performance of your application over time.</span></span> <span data-ttu-id="e19ce-180">Verwenden Sie die Ergebnisse dieser Überwachung, um die Art und Weise anzupassen, in der das System bei Bedarf skaliert wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-180">Use the results of this monitoring to adjust the way in which the system scales if necessary.</span></span> <span data-ttu-id="e19ce-181">Allerdings sollten Sie bedenken, dass die automatische Skalierung nicht sofort geschieht.</span><span class="sxs-lookup"><span data-stu-id="e19ce-181">However, keep in mind that autoscaling is not an instantaneous process.</span></span> <span data-ttu-id="e19ce-182">Es dauert einige Zeit, bis auf eine Metrik (z. B. die durchschnittliche CPU-Auslastung) reagiert wird, die einen angegebenen Schwellenwert über- oder unterschreitet.</span><span class="sxs-lookup"><span data-stu-id="e19ce-182">It takes time to react to a metric such as average CPU utilization exceeding (or falling below) a specified threshold.</span></span>
* <span data-ttu-id="e19ce-183">Regeln für die automatische Skalierung, die einen Erkennungsmechanismus basierend auf einem gemessenen Auslöserattribut verwenden (z. B. CPU-Auslastung oder Warteschlangenlänge), nutzen anstelle von unmittelbaren Werten einen über einen längeren Zeitraum aggregierten Wert, um eine Aktion zur automatischen Skalierung auszulösen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-183">Autoscaling rules that use a detection mechanism based on a measured trigger attribute (such as CPU usage or queue length) use an aggregated value over time, rather than instantaneous values, to trigger an autoscaling action.</span></span> <span data-ttu-id="e19ce-184">Standardmäßig ist das Aggregat ein Durchschnitt der Werte.</span><span class="sxs-lookup"><span data-stu-id="e19ce-184">By default, the aggregate is an average of the values.</span></span> <span data-ttu-id="e19ce-185">Dies verhindert, dass das System zu schnell reagiert oder eine schnelle Oszillation verursacht.</span><span class="sxs-lookup"><span data-stu-id="e19ce-185">This prevents the system from reacting too quickly, or causing rapid oscillation.</span></span> <span data-ttu-id="e19ce-186">Außerdem wird so Zeit für neue Instanzen ermöglicht, die automatisch gestartet und in den ausgeführten Modus versetzt werden, sodass keine zusätzlichen automatischen Skalierungsaktionen auftreten, während die neuen Instanzen gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-186">It also allows time for new instances that are auto-started to settle into running mode, preventing additional autoscaling actions from occurring while the new instances are starting up.</span></span> <span data-ttu-id="e19ce-187">Für Azure Cloud Services und Azure Virtual Machines beträgt der Standardzeitraum für die Aggregation 45 Minuten. Es kann also 45 Minuten dauern, bis die Metrik die automatische Skalierung als Reaktion auf Bedarfsspitzen auslöst.</span><span class="sxs-lookup"><span data-stu-id="e19ce-187">For Azure Cloud Services and Azure Virtual Machines, the default period for the aggregation is 45 minutes, so it can take up to this period of time for the metric to trigger autoscaling in response to spikes in demand.</span></span> <span data-ttu-id="e19ce-188">Sie können den Aggregationszeitraum mit dem SDK ändern. Beachten Sie aber, dass Zeiträume von weniger als 25 Minuten zu unvorhersehbaren Ergebnissen führen können. Weitere Informationen finden Sie unter [Automatische Skalierung von Clouddiensten für die prozentuale CPU-Auslastung mit der Azure Monitoring Services-Verwaltungsbibliothek](http://rickrainey.com/2013/12/15/auto-scaling-cloud-services-on-cpu-percentage-with-the-windows-azure-monitoring-services-management-library/).</span><span class="sxs-lookup"><span data-stu-id="e19ce-188">You can change the aggregation period by using the SDK, but be aware that periods of fewer than 25 minutes may cause unpredictable results (for more information, see [Auto Scaling Cloud Services on CPU Percentage with the Azure Monitoring Services Management Library](http://rickrainey.com/2013/12/15/auto-scaling-cloud-services-on-cpu-percentage-with-the-windows-azure-monitoring-services-management-library/)).</span></span> <span data-ttu-id="e19ce-189">Bei Web-Apps ist der durchschnittliche Zeitraum viel kürzer, und neue Instanzen stehen etwa fünf Minuten nach einer Änderung der durchschnittlichen Auslöseaktion zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="e19ce-189">For Web Apps, the averaging period is much shorter, allowing new instances to be available in about five minutes after a change to the average trigger measure.</span></span>
* <span data-ttu-id="e19ce-190">Wenn Sie die automatische Skalierung über das SDK statt über das Portal konfigurieren, können Sie einen detaillierteren Zeitplan angeben, in dem die Regeln aktiv sind.</span><span class="sxs-lookup"><span data-stu-id="e19ce-190">If you configure autoscaling using the SDK rather than the portal, you can specify a more detailed schedule during which the rules are active.</span></span> <span data-ttu-id="e19ce-191">Sie können auch eigene Metriken erstellen und diese mit oder ohne vorhandenen in Ihren Regeln für die automatische Skalierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-191">You can also create your own metrics and use them with or without any of the existing ones in your autoscaling rules.</span></span> <span data-ttu-id="e19ce-192">Sie können beispielsweise alternative Leistungsindikatoren verwenden, z. B. die Anzahl von Anforderungen pro Sekunde oder die durchschnittliche Arbeitsspeicherverfügbarkeit. Sie können auch benutzerdefinierte Leistungsindikatoren verwenden, die bestimmte Geschäftsprozesse messen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-192">For example, you may wish to use alternative counters, such as the number of requests per second or the average memory availability, or use custom counters that measure specific business processes.</span></span>
* <span data-ttu-id="e19ce-193">Bei der automatischen Service Fabric-Skalierung bestehen die Knotentypen in Ihrem Cluster am Back-End aus VM-Skalierungsgruppen, sodass Sie für jeden Knotentyp Regeln für die automatische Skalierung einrichten müssen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-193">When autoscaling Service Fabric, the node types in your cluster are made of VM scale sets at the backend, so you need to set up auto-scale rules for each node type.</span></span> <span data-ttu-id="e19ce-194">Sie sollten dabei die Anzahl der Knoten berücksichtigen, die Sie benötigen, bevor Sie die automatische Skalierung einrichten.</span><span class="sxs-lookup"><span data-stu-id="e19ce-194">Take into account the number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="e19ce-195">Die minimale Anzahl von Knoten, die für den primären Knotentyp benötigt wird, wird von der Zuverlässigkeitsstufe gesteuert, die Sie ausgewählt haben.</span><span class="sxs-lookup"><span data-stu-id="e19ce-195">The minimum number of nodes that you must have for the primary node type is driven by the reliability level you have chosen.</span></span> <span data-ttu-id="e19ce-196">Weitere Informationen finden Sie unter [Zentrales Hoch- oder Herunterskalieren eines Service Fabric-Clusters mithilfe von Regeln für die automatische Skalierung](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-scale-up-down).</span><span class="sxs-lookup"><span data-stu-id="e19ce-196">For more info, see [scale a Service Fabric cluster in or out using auto-scale rules](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-scale-up-down).</span></span>
* <span data-ttu-id="e19ce-197">Sie können Ressourcen wie SQL-Datenbankinstanzen und Warteschlangen über das Portal mit einer Computedienstinstanz verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-197">You can use the portal to link resources such as SQL Database instances and queues to a Cloud Service instance.</span></span> <span data-ttu-id="e19ce-198">Dadurch erhalten Sie einen einfacheren Zugriff auf die separaten Konfigurationsoptionen für das manuelle und das automatische Skalieren für jede einzelne verknüpfte Ressource.</span><span class="sxs-lookup"><span data-stu-id="e19ce-198">This allows you to more easily access the separate manual and automatic scaling configuration options for each of the linked resources.</span></span> <span data-ttu-id="e19ce-199">Weitere Informationen finden Sie unter [Verwalten von Clouddiensten](/azure/cloud-services/cloud-services-how-to-manage).</span><span class="sxs-lookup"><span data-stu-id="e19ce-199">For more information, see [How to: Link a resource to a cloud service](/azure/cloud-services/cloud-services-how-to-manage).</span></span>
* <span data-ttu-id="e19ce-200">Wenn Sie mehrere Richtlinien und Regeln konfigurieren, besteht die Möglichkeit, dass sie miteinander in Konflikt stehen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-200">When you configure multiple policies and rules, they could conflict with each other.</span></span> <span data-ttu-id="e19ce-201">Die automatische Skalierung verwendet die folgenden Konfliktlösungsregeln, um sicherzustellen, dass immer eine ausreichende Anzahl von Instanzen ausgeführt wird:</span><span class="sxs-lookup"><span data-stu-id="e19ce-201">Autoscale uses the following conflict resolution rules to ensure that there is always a sufficient number of instances running:</span></span>
  * <span data-ttu-id="e19ce-202">Vorgänge mit horizontalem Hochskalieren haben immer Vorrang vor Vorgängen mit horizontalem Herunterskalieren.</span><span class="sxs-lookup"><span data-stu-id="e19ce-202">Scale out operations always take precedence over scale in operations.</span></span>
  * <span data-ttu-id="e19ce-203">Wenn Konflikte durch horizontales Herunterskalieren entstehen, hat die Regel Vorrang, die den größten Anstieg bei der Anzahl der Instanzen initiiert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-203">When scale out operations conflict, the rule that initiates the largest increase in the number of instances takes precedence.</span></span>
  * <span data-ttu-id="e19ce-204">Wenn Konflikte durch horizontales Hochskalieren entstehen, hat die Regel Vorrang, die die kleinste Abnahme bei der Anzahl der Instanzen initiiert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-204">When scale in operations conflict, the rule that initiates the smallest decrease in the number of instances takes precedence.</span></span>
* <span data-ttu-id="e19ce-205">In einer App Service-Umgebung können alle Workerpool- oder Front-End-Metriken zum Definieren von Regeln für die automatische Skalierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-205">In an App Service Environment any worker pool or front-end metrics can be used to define autoscale rules.</span></span> <span data-ttu-id="e19ce-206">Weitere Informationen finden Sie unter [Automatische Skalierung und App Service-Umgebung v1](/azure/app-service/app-service-environment-auto-scale).</span><span class="sxs-lookup"><span data-stu-id="e19ce-206">For more information, see [Autoscaling and App Service Environment](/azure/app-service/app-service-environment-auto-scale).</span></span>

## <a name="application-design-considerations"></a><span data-ttu-id="e19ce-207">Überlegungen zum Anwendungsentwurf</span><span class="sxs-lookup"><span data-stu-id="e19ce-207">Application design considerations</span></span>
<span data-ttu-id="e19ce-208">Die automatische Skalierung ist keine sofortige Lösung.</span><span class="sxs-lookup"><span data-stu-id="e19ce-208">Autoscaling isn't an instant solution.</span></span> <span data-ttu-id="e19ce-209">Durch das einfache Hinzufügen von Ressourcen zu einem System oder durch das Ausführen mehrerer Instanzen eines Prozesses kann nicht sichergestellt werden, dass sich die Leistung des Systems verbessert.</span><span class="sxs-lookup"><span data-stu-id="e19ce-209">Simply adding resources to a system or running more instances of a process doesn't guarantee that the performance of the system will improve.</span></span> <span data-ttu-id="e19ce-210">Beim Entwerfen einer Strategie für die automatische Skalierung sollten Sie folgende Punkte berücksichtigen:</span><span class="sxs-lookup"><span data-stu-id="e19ce-210">Consider the following points when designing an autoscaling strategy:</span></span>

* <span data-ttu-id="e19ce-211">Das System muss so entworfen werden, dass es horizontal skalierbar ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-211">The system must be designed to be horizontally scalable.</span></span> <span data-ttu-id="e19ce-212">Vermeiden Sie Annahmen über die Instanzaffinität. Entwerfen Sie keine Lösungen, für die der Code immer in einer bestimmten Instanz eines Prozesses ausgeführt werden muss.</span><span class="sxs-lookup"><span data-stu-id="e19ce-212">Avoid making assumptions about instance affinity; do not design solutions that require that the code is always running in a specific instance of a process.</span></span> <span data-ttu-id="e19ce-213">Setzen Sie beim horizontalen Skalieren eines Clouddiensts oder einer Website nicht voraus, dass eine Reihe von Anforderungen aus derselben Quelle immer an dieselbe Instanz weitergeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-213">When scaling a cloud service or web site horizontally, don't assume that a series of requests from the same source will always be routed to the same instance.</span></span> <span data-ttu-id="e19ce-214">Aus demselben Grund sollten Sie statusfreie Dienste entwerfen, um zu vermeiden, dass eine Reihe von Anforderungen von einer Anwendung immer an dieselbe Instanz eines Diensts weitergeleitet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-214">For the same reason, design services to be stateless to avoid requiring a series of requests from an application to always be routed to the same instance of a service.</span></span> <span data-ttu-id="e19ce-215">Beim Entwerfen eines Diensts, der Nachrichten aus einer Warteschlange liest und verarbeitet, sollten Sie nicht voraussetzen, dass eine bestimmte Instanz des Diensts eine bestimmte Nachricht verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="e19ce-215">When designing a service that reads messages from a queue and processes them, don't make any assumptions about which instance of the service handles a specific message.</span></span> <span data-ttu-id="e19ce-216">Die automatische Skalierung könnte zusätzliche Instanzen eines Diensts starten, wenn die Warteschlangenlänge zunimmt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-216">Autoscaling could start additional instances of a service as the queue length grows.</span></span> <span data-ttu-id="e19ce-217">Im Artikel zum [Muster „Konkurrierende Consumer“][competing-consumers] wird beschrieben, wie Sie bei diesem Szenario vorgehen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-217">The [Competing Consumers Pattern][competing-consumers] describes how to handle this scenario.</span></span>
* <span data-ttu-id="e19ce-218">Wenn die Lösung einen lang andauernden Task implementiert, entwerfen Sie diesen Task so, dass er das horizontale Hoch- und Herunterskalieren unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-218">If the solution implements a long-running task, design this task to support both scaling out and scaling in.</span></span> <span data-ttu-id="e19ce-219">Ohne angemessene Sorgfalt könnte ein solcher Task verhindern, dass eine Instanz eines Prozesses ordnungsgemäß heruntergefahren wird, wenn das System horizontal herunterskaliert wird, oder es könnten Daten verloren gehen, wenn der Prozess abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-219">Without due care, such a task could prevent an instance of a process from being shut down cleanly when the system scales in, or it could lose data if the process is forcibly terminated.</span></span> <span data-ttu-id="e19ce-220">Im Idealfall sollten Sie einen lang andauernden Task umgestalten und die Verarbeitung in kleinere, einzelne Segmente aufteilen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-220">Ideally, refactor a long-running task and break up the processing that it performs into smaller, discrete chunks.</span></span> <span data-ttu-id="e19ce-221">Im Artikel zum [Muster „Pipes und Filter“][pipes-and-filters] wird ein entsprechendes Beispiel bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-221">The [Pipes and Filters Pattern][pipes-and-filters] provides an example of how you can achieve this.</span></span>
* <span data-ttu-id="e19ce-222">Alternativ können Sie einen Prüfpunktmechanismus implementieren, der Zustandsinformationen zum Task in regelmäßigen Abständen aufzeichnet und diesen Zustand in einem dauerhaften Speicher ablegt, auf den jede Instanz des Prozesses, der den Task ausführt, zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="e19ce-222">Alternatively, you can implement a checkpoint mechanism that records state information about the task at regular intervals, and save this state in durable storage that can be accessed by any instance of the process running the task.</span></span> <span data-ttu-id="e19ce-223">Wenn der Prozess heruntergefahren wird, kann die von ihm ausgeführte Arbeit auf diese Weise am letzten Prüfpunkt mithilfe einer anderen Instanz fortgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-223">In this way, if the process is shutdown, the work that it was performing can be resumed from the last checkpoint by using another instance.</span></span>
* <span data-ttu-id="e19ce-224">Wenn Hintergrundtasks auf separaten Compute-Instanzen ausgeführt werden, z. B. in Workerrollen der über Clouddienste gehosteten Anwendung, müssen Sie möglicherweise verschiedene Teile der Anwendung mit verschiedenen Skalierungsrichtlinien skalieren.</span><span class="sxs-lookup"><span data-stu-id="e19ce-224">When background tasks run on separate compute instances, such as in worker roles of a cloud services hosted application, you may need to scale different parts of the application using different scaling policies.</span></span> <span data-ttu-id="e19ce-225">Beispielsweise müssen Sie möglicherweise zusätzliche UI-Compute-Instanzen bereitstellen, ohne die Anzahl von Compute-Instanzen im Hintergrund zu erhöhen oder zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="e19ce-225">For example, you may need to deploy additional user interface (UI) compute instances without increasing the number of background compute instances, or the opposite of this.</span></span> <span data-ttu-id="e19ce-226">Wenn Sie verschiedene Dienstebenen anbieten (z. B. Standard- und Premium-Servicepakete), müssen Sie die Compute-Ressourcen für Premium-Servicepakete möglicherweise aggressiver als für Standardpakete horizontal hochskalieren, um SLAs einzuhalten.</span><span class="sxs-lookup"><span data-stu-id="e19ce-226">If you offer different levels of service (such as basic and premium service packages), you may need to scale out the compute resources for premium service packages more aggressively than those for basic service packages in order to meet SLAs.</span></span>
* <span data-ttu-id="e19ce-227">Sie können beispielsweise die Länge der Warteschlange, über die die UI und Hintergrund-Compute-Instanzen kommunizieren, als Kriterium für Ihre Strategie für die automatische Skalierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-227">Consider using the length of the queue over which UI and background compute instances communicate as a criterion for your autoscaling strategy.</span></span> <span data-ttu-id="e19ce-228">Dies ist der beste Indikator für ein Ungleichgewicht oder Unterschied zwischen der aktuellen Arbeitslast und der Verarbeitungskapazität des Hintergrundtasks.</span><span class="sxs-lookup"><span data-stu-id="e19ce-228">This is the best indicator of an imbalance or difference between the current load and the processing capacity of the background task.</span></span>
* <span data-ttu-id="e19ce-229">Wenn Sie Ihre Strategie für die automatische Skalierung auf Leistungsindikatoren basieren, die Geschäftsprozesse messen, z. B. die Anzahl der Bestellungen pro Stunde oder die durchschnittliche Ausführungszeit einer komplexen Transaktion, stellen Sie sicher, dass Sie die Beziehung zwischen den Ergebnissen dieser Typen von Indikatoren und den tatsächlichen Compute-Kapazitätsanforderungen vollständig verstehen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-229">If you base your autoscaling strategy on counters that measure business processes, such as the number of orders placed per hour or the average execution time of a complex transaction, ensure that you fully understand the relationship between the results from these types of counters and the actual compute capacity requirements.</span></span> <span data-ttu-id="e19ce-230">Es kann erforderlich sein, mehr als eine Komponente oder Compute-Einheit als Reaktion auf Änderungen in den Unternehmensprozess-Leistungsindikatoren zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="e19ce-230">It may be necessary to scale more than one component or compute unit in response to changes in business process counters.</span></span>  
* <span data-ttu-id="e19ce-231">Um die exzessive Skalierung eines Systems zu verhindern und um die Kosten für das Ausführen mehrerer tausend Instanzen zu vermeiden, sollten Sie die maximale Anzahl von Instanzen, die automatisch hinzugefügt werden können, begrenzen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-231">To prevent a system from attempting to scale out excessively, and to avoid the costs associated with running many thousands of instances, consider limiting the maximum number of instances that can be automatically added.</span></span> <span data-ttu-id="e19ce-232">Die meisten Mechanismen für die automatische Skalierung ermöglichen Ihnen das Angeben der minimalen und der maximalen Anzahl der Instanzen für eine Regel.</span><span class="sxs-lookup"><span data-stu-id="e19ce-232">Most autoscaling mechanisms allow you to specify the minimum and maximum number of instances for a rule.</span></span> <span data-ttu-id="e19ce-233">Darüber hinaus sollten Sie die Funktionalität, die das System bereitstellt, möglicherweise vorsichtig reduzieren, wenn die maximale Anzahl von Instanzen bereitgestellt wurde und das System überlastet ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-233">In addition, consider gracefully degrading the functionality that the system provides if the maximum number of instances have been deployed, and the system is still overloaded.</span></span>
* <span data-ttu-id="e19ce-234">Bedenken Sie, dass die automatische Skalierung möglicherweise nicht der optimale Mechanismus zum Verarbeiten einer plötzlich zunehmenden Arbeitsauslastung ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-234">Keep in mind that autoscaling might not be the most appropriate mechanism to handle a sudden burst in workload.</span></span> <span data-ttu-id="e19ce-235">Das Bereitstellen und Starten neuer Instanzen eines Diensts und das Hinzufügen von Ressourcen zu einem System dauert einige Zeit, und wenn die zusätzlichen Ressourcen verfügbar sind, kann die Bedarfsspitze schon wieder vorbei sein.</span><span class="sxs-lookup"><span data-stu-id="e19ce-235">It takes time to provision and start new instances of a service or add resources to a system, and the peak demand may have passed by the time these additional resources have been made available.</span></span> <span data-ttu-id="e19ce-236">In diesem Szenario kann es besser sein, den Dienst zu drosseln.</span><span class="sxs-lookup"><span data-stu-id="e19ce-236">In this scenario, it may be better to throttle the service.</span></span> <span data-ttu-id="e19ce-237">Weitere Informationen finden Sie unter [Throttling Pattern][throttling] (Drosselungsmuster).</span><span class="sxs-lookup"><span data-stu-id="e19ce-237">For more information, see the [Throttling Pattern][throttling].</span></span>
* <span data-ttu-id="e19ce-238">Umgekehrt gilt: Wenn Sie die Kapazität für die Verarbeitung aller Anforderungen bei einer schnellen Änderung des Volumens benötigen und wenn die Kosten kein wichtiger Faktor sind, können Sie auch eine aggressive Strategie zur automatischen Skalierung verwenden, die zusätzliche Instanzen schneller startet.</span><span class="sxs-lookup"><span data-stu-id="e19ce-238">Conversely, if you do need the capacity to process all requests when the volume fluctuates rapidly, and cost isn't a major contributing factor, consider using an aggressive autoscaling strategy that starts additional instances more quickly.</span></span> <span data-ttu-id="e19ce-239">Sie können auch eine geplante Richtlinie verwenden, die eine ausreichende Anzahl von Instanzen für die maximale Auslastung startet, bevor diese Auslastung erwartet wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-239">You can also use a scheduled policy that starts a sufficient number of instances to meet the maximum load before that load is expected.</span></span>
* <span data-ttu-id="e19ce-240">Der Mechanismus für die automatische Skalierung sollte den Prozess der automatischen Skalierung überwachen und Details der einzelnen Ereignisse der automatischen Skalierung protokollieren (wodurch das Ereignis ausgelöst wurde und wann welche Ressourcen hinzugefügt oder entfernt wurden).</span><span class="sxs-lookup"><span data-stu-id="e19ce-240">The autoscaling mechanism should monitor the autoscaling process, and log the details of each autoscaling event (what triggered it, what resources were added or removed, and when).</span></span> <span data-ttu-id="e19ce-241">Wenn Sie einen benutzerdefinierten Mechanismus für die automatische Skalierung erstellen, stellen Sie sicher, dass diese Funktion enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="e19ce-241">If you create a custom autoscaling mechanism, ensure that it incorporates this capability.</span></span> <span data-ttu-id="e19ce-242">Überprüfen Sie die Informationen, um die Effektivität der Strategie für die automatische Skalierung zu ermitteln, und optimieren Sie die Strategie gegebenenfalls.</span><span class="sxs-lookup"><span data-stu-id="e19ce-242">Analyze the information to help measure the effectiveness of the autoscaling strategy, and tune it if necessary.</span></span> <span data-ttu-id="e19ce-243">Sie können die Strategie sowohl kurzfristig (wenn die Nutzungsmuster offensichtlicher werden) als auch langfristig optimieren (bei Geschäftserweiterung oder sich ändernden Anforderungen der Anwendung).</span><span class="sxs-lookup"><span data-stu-id="e19ce-243">You can tune both in the short term, as the usage patterns become more obvious, and over the long term, as the business expands or the requirements of the application evolve.</span></span> <span data-ttu-id="e19ce-244">Wenn eine Anwendung die definierte Obergrenze für die automatische Skalierung erreicht, kann der Mechanismus auch eine Warnung an einen Mitarbeiter senden, der bei Bedarf manuell zusätzliche Ressourcen starten kann.</span><span class="sxs-lookup"><span data-stu-id="e19ce-244">If an application reaches the upper limit defined for autoscaling, the mechanism might also alert an operator who could manually start additional resources if necessary.</span></span> <span data-ttu-id="e19ce-245">Beachten Sie, dass der Operator unter diesen Umständen auch für das manuelle Entfernen dieser Ressourcen nach dem Abklingen die Arbeitsauslastung zuständig sein kann.</span><span class="sxs-lookup"><span data-stu-id="e19ce-245">Note that, under these circumstances, the operator may also be responsible for manually removing these resources after the workload eases.</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="e19ce-246">Zugehörige Muster und Anleitungen</span><span class="sxs-lookup"><span data-stu-id="e19ce-246">Related patterns and guidance</span></span>
<span data-ttu-id="e19ce-247">Die folgenden Muster und Anleitungen können auch für Ihr Szenario relevant sein, wenn die automatische Skalierung implementiert wird:</span><span class="sxs-lookup"><span data-stu-id="e19ce-247">The following patterns and guidance may also be relevant to your scenario when implementing autoscaling:</span></span>

* <span data-ttu-id="e19ce-248">[Throttling Pattern][throttling] (Drosselungsmuster):</span><span class="sxs-lookup"><span data-stu-id="e19ce-248">[Throttling Pattern][throttling].</span></span> <span data-ttu-id="e19ce-249">Dieses Muster beschreibt, wie eine Anwendung weiterhin funktionieren und Vereinbarungen zum Servicelevel erfüllen kann, wenn eine Bedarfssteigerung eine extreme Ressourcenauslastung mit sich bringt.</span><span class="sxs-lookup"><span data-stu-id="e19ce-249">This pattern describes how an application can continue to function and meet SLAs when an increase in demand places an extreme load on resources.</span></span> <span data-ttu-id="e19ce-250">Die Drosselung kann mit der automatischen Skalierung verwendet werden, um zu verhindern, dass ein System während des horizontalen Hochskalierens überlastet wird.</span><span class="sxs-lookup"><span data-stu-id="e19ce-250">Throttling can be used with autoscaling to prevent a system from being overwhelmed while the system scales out.</span></span>
* <span data-ttu-id="e19ce-251">[Muster „Konkurrierende Consumer“][competing-consumers]:</span><span class="sxs-lookup"><span data-stu-id="e19ce-251">[Competing Consumers Pattern][competing-consumers].</span></span> <span data-ttu-id="e19ce-252">Die automatische Skalierung kann zum Starten und Beenden von Dienstinstanzen entsprechend der erwarteten Arbeitslast verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e19ce-252">This pattern describes how to implement a pool of service instances that can handle messages from any application instance.</span></span> <span data-ttu-id="e19ce-253">Dieser Ansatz ermöglicht ein System, mit dem mehrere Nachrichten gleichzeitig verarbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="e19ce-253">Autoscaling can be used to start and stop service instances to match the anticipated workload.</span></span> <span data-ttu-id="e19ce-254">So wird der Durchsatz optimiert, Skalierbarkeit und Verfügbarkeit werden erhöht und die Arbeitsauslastung wird ausgeglichen.</span><span class="sxs-lookup"><span data-stu-id="e19ce-254">This approach enables a system to process multiple messages concurrently to optimize throughput, improve scalability and availability, and balance the workload.</span></span>
* <span data-ttu-id="e19ce-255">[Überwachung und Diagnose](./monitoring.md):</span><span class="sxs-lookup"><span data-stu-id="e19ce-255">[Monitoring and diagnostics](./monitoring.md).</span></span> <span data-ttu-id="e19ce-256">Instrumentation und Telemetrie sind wichtig für das Sammeln von Informationen, die den Prozess der automatischen Skalierung unterstützen können.</span><span class="sxs-lookup"><span data-stu-id="e19ce-256">Instrumentation and telemetry are vital for gathering the information that can drive the autoscaling process.</span></span>


<!-- links -->

[monitoring]: /azure/monitoring-and-diagnostics/monitoring-overview-autoscale
[app-service-autoscale]: /azure/monitoring-and-diagnostics/insights-how-to-scale?toc=%2fazure%2fapp-service-web%2ftoc.json#scaling-based-on-a-pre-set-metric
[app-service-plan]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[autoscale-metrics]: /azure/monitoring-and-diagnostics/insights-autoscale-common-metrics
[cloud-services-autoscale]: /azure/cloud-services/cloud-services-how-to-scale-portal
[competing-consumers]: ../patterns/competing-consumers.md
[data-partitioning]: ./data-partitioning.md
[functions-scale]: /azure/azure-functions/functions-scale
[link-resource-to-cloud-service]: /azure/cloud-services/cloud-services-how-to-manage#how-to-link-a-resource-to-a-cloud-service
[pipes-and-filters]: ../patterns/pipes-and-filters.md
[service-fabric-autoscale]: /azure/service-fabric/service-fabric-cluster-scale-up-down
[throttling]: ../patterns/throttling.md
[vm-scale-sets]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
[vm-scale-sets-autoscale]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview
